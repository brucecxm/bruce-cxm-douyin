import{B as h,a as p}from"./BaseHeader.9016a8c7.js";import{a as o,b as m,h as _}from"./video.c6d97de0.js";import{n,e as i}from"./index.f6d0a6bc.js";import{V as t}from"./token.fe39c3a6.js";import{P as g}from"./Pinglunqu.b278496a.js";/* empty css            */import"./request.aca4492d.js";const f={props:{updateMessage:{type:Function,required:!0}},name:"BaseMain",data(){return{videoarr:{code:"0",data:[{authId:"101",musicId:"1001",videoId:"1",videoUrl:"https://www.douyin.com/aweme/v1/play/?video_id=v0d00fg10000cj1lq4jc77u0ng6s1gt0&line=0&file_id=bed51c00899b458cbc5d8280147c22a1&sign=7749aec7bd62a3760065f60e40fc1867&is_play_url=1&source=PackSourceEnum_PUBLISH",avatar:"https://p3-pc.douyinpic.com/img/aweme-avatar/tos-cn-avt-0015_c7784af3a0bd2e7c5fc92ece450f12e0~c5_168x168.jpeg?from=2956013662",musicAvatar:"https://p3-pc.douyinpic.com/img/aweme-avatar/tos-cn-avt-0015_c7784af3a0bd2e7c5fc92ece450f12e0~c5_168x168.jpeg?from=2956013662",nickname:"\u524D\u7AEF\u5B9E\u529B\u6635\u79F0",videoComment:"\u4E0D\u662F\u540E\u7AEF\u4F20\u8FC7\u6765\u7684\u6570\u636E \u524D\u7AEF\u4E2D\u9ED8\u8BA4\u7684\u6570\u636E"}],msg:"\u6267\u884C\u6210\u529F"},videonum:0,startY:0,endY:0,one:{code:"",data:[],msg:""},behavior:{pingnum:0,like:0,collection:0,share:0}}},created(){console.log("created: \u5B9E\u4F8B\u521B\u5EFA\u5B8C\u6210\u540E\u8C03\u7528")},methods:{goLogin(){this.$router.push("/login")},goauth(){this.$router.push("/auth")},gomusic(){this.$router.push("/music")},sendMessageToParent(){this.updateMessage(!0);const e=t();e.setVideoId(this.videoarr.data[this.videonum].videoId),console.log("Video ID: ",e.getVideoId);const s={videoId:e.getVideoId};o(s).then(a=>{this.behavior.pingnum=a.data.length,this.one=a,console.log("ssdsdsd",a),i.$emit("eventName",this.one)}).catch(a=>{console.error("\u83B7\u53D6\u89C6\u9891\u51FA\u9519:",a)})},handleTouchStart(e){this.startY=e.touches[0].clientY;const s=t();s.setVideoId(this.videoarr.data[this.videonum].videoId),console.log("Video ID: ",s.getVideoId)},handleTouchMove(e){this.endY=e.touches[0].clientY},handleTouchEnd(){const e=this.endY-this.startY;e>30?this.handleSwipeDown():e<-30&&this.handleSwipeUp()},handleSwipeUp(){this.videonum<this.videoarr.data.length-1?this.videonum++:(this.videonum=0,m().then(a=>{this.videoarr=a}).catch(a=>{console.error("\u51FA\u9519:",a)}));const e=t();e.setVideoId(this.videoarr.data[this.videonum].videoId),console.log("Video ID: ",e.getVideoId);const s={videoId:e.getVideoId};o(s).then(a=>{this.behavior.pingnum=a.data.length,this.one=a,console.log("ssdsdsd",a),i.$emit("eventName",this.one)}).catch(a=>{console.error("\u83B7\u53D6\u89C6\u9891\u51FA\u9519:",a)}),this.$refs.videoEl.load(),this.$refs.videoEl.play()},handleSwipeDown(){this.videonum>0?this.videonum--:this.videonum=this.videoarr.data.length-1;const e=t();e.setVideoId(this.videoarr.data[this.videonum].videoId),console.log("Video ID: ",e.getVideoId);const s={videoId:e.getVideoId};o(s).then(a=>{this.behavior.pingnum=a.data.length,this.one=a,console.log("ssdsdsd",a),i.$emit("eventName",this.one)}).catch(a=>{console.error("\u83B7\u53D6\u89C6\u9891\u51FA\u9519:",a)}),this.$refs.videoEl.load(),this.$refs.videoEl.play()}},mounted(){_().then(e=>{console.log(e),this.videoarr=e}).catch(e=>{console.error("\u83B7\u53D6\u89C6\u9891\u51FA\u9519:",e)})},beforeDestroy(){this.$refs.videoEl.pause()}};var c=function(){var s=this,a=s._self._c;return a("div",{staticClass:"home"},[a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("h2",[s._v(s._s(s.videoarr.data[s.videonum].nickname))]),a("p",[s._v(s._s(s.videoarr.data[s.videonum].videoComment))])]),a("div",{staticClass:"aside"},[a("ul",[a("li",{staticClass:"touxiang",on:{click:s.goauth}},[a("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:s.videoarr.data[s.videonum].avatar,alt:"noimg"}})]),a("li",{staticClass:"dianzan",on:{click:s.goLogin}},[a("p",{staticClass:"num"},[s._v(s._s(s.behavior.like))])]),a("li",{staticClass:"pinglun",on:{click:s.sendMessageToParent}},[a("p",{staticClass:"num"},[s._v(s._s(s.behavior.pingnum))])]),a("li",{staticClass:"shoucang"},[a("p",{staticClass:"num"},[s._v(s._s(s.behavior.collection))])]),a("li",{staticClass:"zhuanfa"},[a("p",{staticClass:"num"},[s._v(s._s(s.behavior.share))])]),a("li",{staticClass:"yinyue",on:{click:s.gomusic}},[a("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:s.videoarr.data[s.videonum].musicAvatar,alt:"noimg"}})])])]),a("video",{ref:"videoEl",attrs:{src:s.videoarr.data[s.videonum].videoUrl,preload:"true",loop:"","x5-video-player-type":"h5-page","x5-video-player-fullscreen":"false","webkit-playsinline":"true","x5-playsinline":"true",playsinline:"true",autoplay:""},on:{touchstart:s.handleTouchStart,touchmove:s.handleTouchMove,touchend:s.handleTouchEnd}},[a("p",[s._v("\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 video \u6807\u7B7E\u3002")])])])])},C=[];c._withStripped=!0;var d=n(f,c,C,!1,null,"92385e0e",null,null);d.options.__file="F:/GitHub/bruce-cxm-douyin/douyin_vue2/src/components/BaseMain.vue";const w=d.exports;const b={name:"Tanchuang",data(){return{tanchuang:{home:"home",istanchuangshow:!1}}},methods:{fanhui(){i.$emit("message-from-one",this.tanchuang)},gosetting(){this.$router.push("/setting")}}};var l=function(){var s=this,a=s._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("div",{staticClass:"settings",on:{click:s.gosetting}},[a("i",{staticClass:"fas fa-cog"})]),a("div",{staticClass:"scan",on:{click:s.fanhui}},[a("i",{staticClass:"fas fa-qrcode"}),a("span",[s._v("\u626B\u4E00\u626B")])])]),s._m(0),s._m(1)])},y=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[e._v("\u5E38\u7528\u529F\u80FD")]),s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-wallet"})]),s("span",[e._v("\u6211\u7684\u94B1\u5305")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-ticket-alt"})]),s("span",[e._v("\u4F18\u60E0\u5238")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-asterisk"})]),s("span",[e._v("\u5C0F\u7A0B\u5E8F")])])]),s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-history"})]),s("span",[e._v("\u89C2\u770B\u5386\u53F2")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-heart"})]),s("span",[e._v("\u5185\u5BB9\u504F\u597D")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-cloud-download-alt"})]),s("span",[e._v("\u79BB\u7EBF\u6A21\u5F0F")])])]),s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-clock"})]),s("span",[e._v("\u7A0D\u540E\u518D\u770B")])])])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"section"},[s("div",{staticClass:"section-title"},[e._v("\u751F\u6D3B\u52A8\u6001")]),s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-broadcast-tower"})]),s("span",[e._v("\u76F4\u64AD\u5E7F\u573A")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-shopping-basket"})]),s("span",[e._v("\u9644\u8FD1\u56E2\u8D2D")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-calendar-alt"})]),s("span",[e._v("\u6D3B\u52A8\u4E2D\u5FC3")])])]),s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-gamepad"})]),s("span",[e._v("\u73A9\u6E38\u620F")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-music"})]),s("span",[e._v("\u542C\u6296\u97F3")])]),s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-film"})]),s("span",[e._v("\u653E\u6620\u5385")])])]),s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-microphone"})]),s("span",[e._v("K\u6B4C")])])])])}];l._withStripped=!0;var r=n(b,l,y,!1,null,"04d20ca7",null,null);r.options.__file="F:/GitHub/bruce-cxm-douyin/douyin_vue2/src/components/TanChuang.vue";const I=r.exports;const x={created(){i.$on("message-from-one",this.handleMessage)},data(){return{receivedMessage:{home:"home",istanchuangshow:!1},userID:1,pinglunisvisable:!1}},components:{BaseFooter:h,BaseHeader:p,BaseMain:w,Pinglunqu:g,TanChuang:I},methods:{handleMessage(e){this.receivedMessage=e},updateMessage(e){this.pinglunisvisable=e}}};var v=function(){var s=this,a=s._self._c;return a("div",{staticClass:"one"},[a("tan-chuang",{directives:[{name:"show",rawName:"v-show",value:s.receivedMessage.istanchuangshow,expression:"receivedMessage.istanchuangshow"}],staticClass:"tanchuang"}),a("div",{class:s.receivedMessage.home},[a("pinglunqu",{directives:[{name:"show",rawName:"v-show",value:s.pinglunisvisable,expression:"pinglunisvisable"}],staticClass:"lpinglunqu",attrs:{updateMessage:s.updateMessage}}),a("BaseHeader",{directives:[{name:"show",rawName:"v-show",value:!s.pinglunisvisable,expression:"!pinglunisvisable"}]}),a("BaseMain",{attrs:{updateMessage:s.updateMessage}}),a("BaseFooter",{directives:[{name:"show",rawName:"v-show",value:!s.pinglunisvisable,expression:"!pinglunisvisable"}]})],1)],1)},M=[];v._withStripped=!0;var u=n(x,v,M,!1,null,"448850ba",null,null);u.options.__file="F:/GitHub/bruce-cxm-douyin/douyin_vue2/src/views/one.vue";const F=u.exports;export{F as default};
