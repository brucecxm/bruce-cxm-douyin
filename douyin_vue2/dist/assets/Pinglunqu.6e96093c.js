import{n as i,e as o}from"./index.d6cacc81.js";import{g as c}from"./video.8c43712b.js";const l={name:"Pinglunqu",data(){return{commentsData:[{userId:1,avatar:"https://via.placeholder.com/50",username:"\u5F20\u4E09",comment:"\u8FD9\u662F\u4E00\u6761\u8BC4\u8BBA\u5185\u5BB9\uFF0C\u771F\u7684\u5F88\u68D2\uFF01",likes:15},{userId:2,avatar:"https://via.placeholder.com/50",username:"\u674E\u56DB",comment:"\u8FD9\u6761\u8BC4\u8BBA\u4E5F\u5F88\u6709\u610F\u601D\uFF01",likes:10},{userId:3,avatar:"https://via.placeholder.com/50",username:"\u738B\u4E94",comment:"\u54C8\u54C8\uFF0C\u8FD9\u592A\u641E\u7B11\u4E86\uFF01",likes:25}],newComment:"",videoData:{}}},methods:{sendMessage(){console.log("\u8BC4\u8BBA\u533A\u5DF2\u5173\u95ED"),o.$emit("messageSent",!1)},likeComment(t){this.commentsData[t].likes++,console.log(`\u70B9\u8D5E\u8BC4\u8BBA ${t}`)},replyComment(t){console.log(`\u56DE\u590D\u8BC4\u8BBA ${t}`)},goToUserProfile(t){console.log(`\u8DF3\u8F6C\u5230\u7528\u6237 ${t} \u7684\u4E3B\u9875`)},getcommentone(){const t={videoid:this.videoData.videoid};c(t).then(e=>{this.commentsData=e.data.data}).catch(e=>{console.error("\u83B7\u53D6\u89C6\u9891\u8BC4\u8BBA\u51FA\u9519:",e)})},submitComment(){if(this.newComment.trim()!==""){const t={userId:Date.now(),avatar:"https://via.placeholder.com/50",username:"\u65B0\u7528\u6237",comment:this.newComment,likes:0};this.commentsData.unshift(t),this.newComment="",console.log("\u53D1\u5E03\u8BC4\u8BBA:",t)}else console.log("\u8BC4\u8BBA\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A")}},created(){o.$on("eventName",t=>{console.log(t),this.receivedData=t})},mounted(){o.$on("messageSent_videoid",t=>{this.videoData=t}),this.getcommentone()},beforeDestroy(){o.$off("messageSent_videoid"),o.$off("eventName")}};var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"pinglunqu"},[s("button",{staticClass:"close-button",on:{click:function(n){return e.sendMessage()}}},[e._v("\u5173\u95ED\u8BC4\u8BBA\u533A")]),e._l(e.commentsData,function(n,a){return s("div",{key:n.userId,staticClass:"comment"},[s("div",{staticClass:"touxiangqu"},[s("div",{staticClass:"touxiang",on:{click:function(m){return e.goToUserProfile(n.userId)}}},[s("img",{attrs:{src:n.avatar,alt:"\u5934\u50CF"}})])]),s("div",{staticClass:"xiaoxi"},[s("p",{staticClass:"name"},[e._v(e._s(n.username))]),s("p",{staticClass:"comment-text"},[e._v(e._s(n.comment))]),s("div",{staticClass:"actions"},[s("span",{staticClass:"action",on:{click:function(m){return e.likeComment(a)}}},[e._v("\u2764\uFE0F "+e._s(n.likes))]),s("span",{staticClass:"action",on:{click:function(m){return e.replyComment(a)}}},[e._v("\u56DE\u590D")])])])])}),s("div",{staticClass:"comment-input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newComment,expression:"newComment"}],staticClass:"input-textarea",attrs:{placeholder:"\u5199\u4E0B\u4F60\u7684\u8BC4\u8BBA..."},domProps:{value:e.newComment},on:{input:function(n){n.target.composing||(e.newComment=n.target.value)}}}),s("button",{staticClass:"submit-button",on:{click:e.submitComment}},[e._v("\u53D1\u5E03")])])],2)},u=[],v=i(l,r,u,!1,null,"6daff747",null,null);const C=v.exports;export{C as P};
